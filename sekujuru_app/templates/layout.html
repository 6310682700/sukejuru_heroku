{% load static %}
<link rel="stylesheet" href="{% static 'index/home.css' %}" type = "text/css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'js/scripts.js' %}" defer></script>

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Anime Schedule - Homepage</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Add icon library -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="/home">Homepage</a>
                <a class="navbar-brand" href="/about" >About</a>
                <a class="navbar-brand" href="/calender" >Calendar</a>
                <a class="navbar-brand" href="/search" >Search</a>
            </div>
            {% if request.user.is_authenticated %}
            <div class="nav-item dropdown">
                <a class="navbar-brand nav-link" href="#" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="False">{{ request.user.username }}</a>
                <ul class="dropdown-menu" style="left: auto; right: 2px; margin-top:10px; padding: 20px; width:30vh">
                    <div class="dropdown-content">
                        <li><a class="dropdown-item" href="{% url 'profile_redirect' %}">Profile</a></li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                        {% comment %} <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Something else here</a></li> {% endcomment %}
                    </div>
                </ul>
            </div>
            {% else %}
            <div class="nav-item dropdown">
                <a class="navbar-brand nav-link" href="#" role="button" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="False">Login</a>
                <ul class="dropdown-menu" style="left: auto; right: 2px; margin-top:10px; padding: 20px; width:30vh">
                    <div>
                        <h1 class="login">LOGIN</h1>
                        {% if message %}
                            <div style="color: red">{{ message }}</div>
                        {% endif %}
                            <form action="{% url 'login' %}" method="post">
                        {% csrf_token %}
                            <form class="form_login">
                                <div class="form_login_group">
                                    <input type="text" name="username" placeholder="Username" class="form_input" />
                                </div>
                                
                                <div class="form_login_group">
                                    <input type="password" name="password" placeholder="Password" class="form_input" />
                                </div>
                                
                                <button class="btn" style="background-color: black;  color: white; margin-top: 5px;" type="submit" value="Login">Login</button>
                                    <div>Not have an account?
                                    <a href="register">Register</a>
                                </div>
                            </form>
                    </div>
                </ul>
            </div>
            {% endif %}
        </nav>
        <!-- Header-->
        <header class="bg-dark py-4">
            <div class="container px-4 px-lg-5 my-5">
                <div class="text-center text-white">
                    <h1 class="display-4 fw-bolder">Sukejuru</h1>
                    <p class="lead fw-normal text-white-50 mb-0">Easy to watch in one website</p>
                </div>
            </div>
        </header>
        {% block content %}

        {% endblock %}
        <!-- Footer-->
        <footer class="py-5 bg-dark">
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>

{% comment %} 
Trying to put all of these in layout without overwrite prob{% endcomment %}